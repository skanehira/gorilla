(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{342:function(s,t,a){"use strict";a.r(t);var n=a(32),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vimをtmuxの代わりに使う"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vimをtmuxの代わりに使う"}},[s._v("#")]),s._v(" Vimをtmuxの代わりに使う")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://asciinema.org/a/260659",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://asciinema.org/a/260659.svg",alt:"asciicast"}}),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"はじめに"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#はじめに"}},[s._v("#")]),s._v(" はじめに")]),s._v(" "),a("p",[s._v("ぼくは普段開発する時、必ずtmuxとVimを併用しています。tmuxは本当に便利で、画面分割したり、セッションを繰り替えたりながら作業をするのに必須と言ってよいほどです。")]),s._v(" "),a("p",[s._v("しかしVim使いのぼくはやはりVimだけで生活したいので、tmuxをやめてVimだけでtmuxの機能を一部実現してみました。\n意外となんとかなったので、そのやり方を解説していきます。")]),s._v(" "),a("h2",{attrs:{id:"仕組みの概要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#仕組みの概要"}},[s._v("#")]),s._v(" 仕組みの概要")]),s._v(" "),a("p",[s._v("tmuxの画面分割してターミナルを開くのは、Vimの画面分割とターミナルを組み合わせて実現できます。\n例えば"),a("code",[s._v(":vert terminal ++close bash")]),s._v("で縦二分割してターミナルを開くことができます。")]),s._v(" "),a("p",[s._v("tmuxのセッションに関しては、Vimのセッション機能を使用します。\nセッションについては"),a("a",{attrs:{href:"https://gorilla.netlify.com/articles/20190620-vim-session-plugin.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("こちらの記事"),a("OutboundLink")],1),s._v("を参照してください。")]),s._v(" "),a("p",[s._v("ただ、Vimではターミナルウィンドウの位置、サイズを復元できますが、状態までは復元できません。\n仕様上どうしてもここは完全代用が難しいので、ここは無理せず使い方でカバーすればよいです。")]),s._v(" "),a("h2",{attrs:{id:"画面分割"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#画面分割"}},[s._v("#")]),s._v(" 画面分割")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://asciinema.org/a/260715",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://asciinema.org/a/260715.svg",alt:"asciicast"}}),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("tmux使用していた時は"),a("code",[s._v("CTRL-S + \\")]),s._v("で縦、"),a("code",[s._v("CTRL-S + -")]),s._v("で横で画面分割、"),a("code",[s._v("CTRL-S + c")]),s._v("でタブを開くようにしていました。\nVimでは"),a("code",[s._v("OpenTermianl")]),s._v("コマンドを定義して、そのコマンド内でバッファを作成して、バッファでターミナルを開くようにしています。\nコマンドをキーマッピングすれば、tmuxと同じことができます。")]),s._v(" "),a("p",[s._v("ソースは次になります。")]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('" ターミナルを開く')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('" a:1 new or vnew or tabnew(default is new)')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('" a:2 path (default is current)')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('" a:3 shell (default is &shell)')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open_terminal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" abort\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" open_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'new'")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" &"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getcwd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=#")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" open_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=#")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=#")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" open_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==#")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'new'")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" open_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bo '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" open_type\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n\n\texe "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%s | lcd %s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" open_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\texe "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'term ++curwin ++close %s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\texe "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'call term_setrestore("%", printf("++close bash -c \\"cd %s && bash\\"", getcwd()))\'')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endfunction")]),s._v("\n\ncommand"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("nargs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" OpenTerminal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open_terminal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("f")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("args")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('" ターミナルを開く')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("noremap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\\ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("OpenTerminal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vnew")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("noremap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("OpenTerminal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("noremap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("^ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("OpenTerminal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tabnew")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ntnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\\ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("OpenTerminal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vnew")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ntnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("OpenTerminal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ntnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("^ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("OpenTerminal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tabnew")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("p",[a("code",[s._v("noremap")]),s._v("はノーマルモード、"),a("code",[s._v("tnoremap")]),s._v("はターミナルで動作するマッピングです。")]),s._v(" "),a("p",[s._v("ターミナルのオプションですが、"),a("code",[s._v("++close")]),s._v("はターミナルを終了する時にバッファを閉じる、"),a("code",[s._v("++curwin")]),s._v("は現在のバッファでターミナルを開くという動きになります。")]),s._v(" "),a("p",[s._v("ターミナルを開いた後に実行している"),a("code",[s._v("term_setrestore")]),s._v("はかなり重要で、これはセッションでターミナルを復元する時に実行するコマンドです。")]),s._v(" "),a("p",[s._v("デフォルト、ターミナルを復元する時はカレントディレクトリになってしまいます。\nなので、セッション保存時のディレクトリで復元するように設定する必要があります。")]),s._v(" "),a("p",[s._v("上記のコードを"),a("code",[s._v("vimrc")]),s._v("に追記すれば、そのまま動くはずです。")]),s._v(" "),a("h2",{attrs:{id:"セッション保存-復元"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#セッション保存-復元"}},[s._v("#")]),s._v(" セッション保存/復元")]),s._v(" "),a("p",[s._v("セッション機能を使用することで、画面の状態をそのまま保持できます。\nなので、基本的セッションを保存、起動時or起動後にセッションを読み込むことで復元できます。")]),s._v(" "),a("p",[s._v("しかし、セッションを使う上でいくつか注意する必要があります。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("なるべくプレーンの状態でセッションを復元する"),a("br"),s._v("\n大体復元するタイミングはVimを再起動した後だと思うので、それほど意識する必要は無いですが、\n例えばターミナルを開いた状態でセッションを復元しようとするとエラーが出ます。\nなので、基本的に起動後にセッションを読み込むようにします。")])]),s._v(" "),a("li",[a("p",[s._v("セッションを保存する時のオプションに"),a("code",[s._v("globals")]),s._v("を外す"),a("br"),s._v("\nセッションの保存対象を設定する "),a("code",[s._v("sessionoptions")]),s._v("というオプションがありますが、\nデフォルではフローバル変数を復元します。それだとvimrcの一部の設定などが復元してしまいます。\n保存時のvimrcの状態を戻すよりも、最新vimrcを適用したいケースが多いので、ここではオプションから外します。")])])]),s._v(" "),a("p",[s._v("ちなみに、ぼくの設定は次になっています。")]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("sessionoptions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("blank"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("buffers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("curdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("folds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("help")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tabpages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("winsize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("terminal\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"タブページの移動"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#タブページの移動"}},[s._v("#")]),s._v(" タブページの移動")]),s._v(" "),a("p",[s._v("Vimのタブをプロジェクトごとで分けて使うため、タブ移動＝プロジェクト移動にしています。\nデフォルト"),a("code",[s._v("gt")]),s._v("と"),a("code",[s._v("gT")]),s._v("でタブを切り替えられますが、個人的に使いづらいので、次の様にしています。")]),s._v(" "),a("p",[s._v("このキーマップはtmuxの設定と同じにしています。")]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[s._v("nnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("n")]),s._v(" gt\nnnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("p")]),s._v(" gT\ntnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tabprevious")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ntnoremap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("C"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tabnext")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"ghqとfzf-vimとと組み合わせる"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ghqとfzf-vimとと組み合わせる"}},[s._v("#")]),s._v(" ghqとfzf.vimとと組み合わせる")]),s._v(" "),a("h3",{attrs:{id:"リポジトリを開く"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#リポジトリを開く"}},[s._v("#")]),s._v(" リポジトリを開く")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://asciinema.org/a/260717",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://asciinema.org/a/260717.svg",alt:"asciicast"}}),a("OutboundLink")],1),s._v(":")]),s._v(" "),a("p",[s._v("基本的にVimを開くときは何かしらプロジェクトに移動して作業する時なので、\n"),a("a",{attrs:{href:"https://github.com/motemen/ghq",target:"_blank",rel:"noopener noreferrer"}},[s._v("ghq"),a("OutboundLink")],1),s._v("と"),a("a",{attrs:{href:"https://github.com/junegunn/fzf.vim",target:"_blank",rel:"noopener noreferrer"}},[s._v("fzf.vim"),a("OutboundLink")],1),s._v("を組み合わせてプロジェクトに簡単に移動した後にターミナルを開く"),a("code",[s._v("Repo")]),s._v("コマンドを用意しました。")]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd_repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" repo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" abort\n\texe "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lcd'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("trim")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("system")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ghq root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("repo\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open_terminal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'new'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\texe "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wincmd k'")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pwd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endfunction")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("multi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" abort\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ghq'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("exists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*fzf#run()'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("executable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fzf'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" fzf#"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\t\t\\ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'source'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("systemlist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ghq list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t\t\t\t\\ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sink'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t\t\t\t\\ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'options'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("multi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t\t\t\t\\ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'down'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'40%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t\t\t\t\\ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t\techo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"doesn\'t installed ghq or fzf.vim(require fzf)"')]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endfunction")]),s._v("\n\ncommand"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Repo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+m'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s:cd_repo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("&"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[a("code",[s._v("ghq list")]),s._v("でリポジトリ一覧を取得して、"),a("code",[s._v("fzf.vim")]),s._v("であいまい検索できるようにしています。")]),s._v(" "),a("h3",{attrs:{id:"リポジトリを複数開く"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#リポジトリを複数開く"}},[s._v("#")]),s._v(" リポジトリを複数開く")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://asciinema.org/a/260719",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://asciinema.org/a/260719.svg",alt:"asciicast"}}),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("ときに複数のプロジェクトを同時に開きたいことがあります。\n何度も"),a("code",[s._v(":Repo")]),s._v("を実行しても良いですが、面倒です。\nなので、"),a("code",[s._v("NewTab")]),s._v("コマンドというのを用意しました。")]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open_tabs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" repo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" abort\n\texe "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tabnew | lcd %s/%s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("trim")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("system")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ghq root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("repo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\texe "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bo term ++rows=20 ++close %s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\texe "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'call term_setrestore("%", printf("++close bash -c \\"cd %s && bash\\"", getcwd()))\'')]),s._v("\n\texe "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wincmd k'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endfunction")]),s._v("\n\ncommand"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" NewTab "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-m'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s:open_tabs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("&"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("code",[s._v("fzf.vim")]),s._v("は"),a("code",[s._v("-m")]),s._v("オプション使うと複数の項目を選択することができるので、それを使用します。\nここで1点注意ですが"),a("code",[s._v("fzf.vim")]),s._v("のcallbackでは"),a("code",[s._v("&shell")]),s._v("が"),a("code",[s._v("sh")]),s._v("になってしまうので、呼び出し元の"),a("code",[s._v("shell")]),s._v("を渡す必要があります。")]),s._v(" "),a("h2",{attrs:{id:"残作業"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#残作業"}},[s._v("#")]),s._v(" 残作業")]),s._v(" "),a("h3",{attrs:{id:"タブのラベル"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#タブのラベル"}},[s._v("#")]),s._v(" タブのラベル")]),s._v(" "),a("p",[s._v("タブのラベルを自由に決めれるようにしたいのです、ラベルの仕組みが思ったよりもややこしく途中で諦めました。\nラベルを簡単に変えれれば一番良いですが、なくてもそこまで問題ないです。")]),s._v(" "),a("h3",{attrs:{id:"画面最大化のトグル"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#画面最大化のトグル"}},[s._v("#")]),s._v(" 画面最大化のトグル")]),s._v(" "),a("p",[s._v("tmuxでは"),a("code",[s._v("prefix+z")]),s._v("で画面の最大化のトグルができます。Vimでもそれをやろうと思えば実現はできると思いますが、まだ試せていないです。\nターミナルがある状態で"),a("code",[s._v("<C-w>o")]),s._v("でターミナルが残るので、その問題が解決できればという感じです。")]),s._v(" "),a("h2",{attrs:{id:"まとめ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[s._v("#")]),s._v(" まとめ")]),s._v(" "),a("p",[s._v("ターミナルとセッションの機能で、なんとかtmuxっぽいことはできました。\n今の所それほど困ってはいないのですが、やはりtmuxはすごいなと改めて思いました。")]),s._v(" "),a("p",[s._v("ただ、Vimだけでもここまでできるこを知れたので大きいですね。\n興味ある方はぜひvimrcに追加して試してみてください。")])])}),[],!1,null,null,null);t.default=r.exports}}]);