(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{174:function(s,t,e){"use strict";e.r(t);var n=e(0),i=Object(n.a)({},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"content"},[s._m(0),s._v(" "),e("p",[s._v("みなさん、vimに"),e("a",{attrs:{href:"https://vim-jp.org/vimdoc-ja/usr_21.html#21.4",target:"_blank",rel:"noopener noreferrer"}},[s._v("セッション機能"),e("OutboundLink")],1),s._v("があるのはご存知でしょうか？\n便利そうなので使ってみようと思っていますが、せっかくなのでVim scriptの勉強も兼ねてコマンド作ってみました。")]),s._v(" "),s._m(1),s._v(" "),e("p",[s._v("以下のコードをvimrcに貼ればそのまま使えるとおもいます。")]),s._v(" "),s._m(2),s._v(" "),e("p",[s._v("プラグイン化しました。\nまた、記事中のソース若干変更は入っています。\n"),e("a",{attrs:{href:"https://github.com/skanehira/vsession",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/skanehira/vsession"),e("OutboundLink")],1)]),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),s._m(6),s._v(" "),s._m(7),s._v(" "),s._m(8),s._m(9),s._v(" "),s._m(10),s._v(" "),s._m(11),e("p",[s._v("fzf.vim版はこちらです。")]),s._v(" "),s._m(12),s._m(13),s._v(" "),s._m(14),s._v(" "),s._m(15),e("p",[s._v("fzf.vim版はこちらです。")]),s._v(" "),s._m(16),s._m(17),s._v(" "),e("p",[s._v("こんな感じでマッピングしたら楽です。")]),s._v(" "),s._m(18),s._m(19),s._v(" "),e("p",[e("a",{attrs:{href:"https://thinca.hatenablog.com/entry/20100201/1265009821",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://thinca.hatenablog.com/entry/20100201/1265009821"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://qiita.com/shinshin86/items/6e6cbdb77cb59b87d21f",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://qiita.com/shinshin86/items/6e6cbdb77cb59b87d21f"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"http://nanasi.jp/articles/code/io/file-path.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://nanasi.jp/articles/code/io/file-path.html"),e("OutboundLink")],1)]),s._v(" "),s._m(20),s._v(" "),e("p",[s._v("初めてVim script書いたので、おかしなところがありましたら教えて頂けると助かります。\nちなみに、vimのセッションプラグインはありました。")]),s._v(" "),e("p",[s._v("使ってないのですが、良さげなので興味ある方はどうぞー")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/Shougo/unite-session",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/Shougo/unite-session"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://github.com/xolox/vim-session",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/xolox/vim-session"),e("OutboundLink")],1)])])},[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"vimのセッション機能を使う"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vimのセッション機能を使う","aria-hidden":"true"}},[this._v("#")]),this._v(" Vimのセッション機能を使う")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("fzf.vimを使うとこんな感じになります。\n"),t("img",{attrs:{src:"https://qiita-image-store.s3.amazonaws.com/0/66178/21a1dc7b-44cc-0e9c-c88d-03d74abf9cbc.png",alt:"image.png"}})])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"_2018-12-22-追記"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2018-12-22-追記","aria-hidden":"true"}},[this._v("#")]),this._v(" [2018-12-22] 追記")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"セッションファイル保存先"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#セッションファイル保存先","aria-hidden":"true"}},[this._v("#")]),this._v(" セッションファイル保存先")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("~/.vim/sessions/")]),this._v("配下にセッションファイルを保存します。\nディレクトリがなければ作るようにしています。")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language-vimscript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('" session path\nlet s:session_path = expand(\'~/.vim/sessions\')\n\nif !isdirectory(s:session_path)\n    call mkdir(s:session_path, "p")\nendif\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"セッションの保存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#セッションの保存","aria-hidden":"true"}},[this._v("#")]),this._v(" セッションの保存")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v(":SaveSession test1.vim")]),this._v("という感じで、セッションファイル名を指定して保存します。\n同じファイル名を指定すると上書きされるのでご注意。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-vimscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("\" save session\ncommand! -nargs=1 SaveSession call s:saveSession(<f-args>)\nfunction! s:saveSession(file)\n    execute 'silent mksession!' s:session_path . '/' . a:file\nendfunction\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"セッションの復元"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#セッションの復元","aria-hidden":"true"}},[this._v("#")]),this._v(" セッションの復元")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v(":LoadSession ~/.vim/sessions/test1.vim")]),this._v("という感じで、セッションファイルのパスを指定して読み込みます。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-vimscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("\" load session\ncommand! -nargs=1 LoadSession call s:loadSession(<f-args>)\nfunction! s:loadSession(file)\n    execute 'silent source' a:file\nendfunction\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-vimscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("command! FloadSession call fzf#run({\n\\  'source': split(glob(s:session_path . \"/*\"), \"\\n\"),\n\\  'sink':    function('s:loadSession'),\n\\  'options': '-m -x +s',\n\\  'down':    '40%'})\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"セッションの削除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#セッションの削除","aria-hidden":"true"}},[this._v("#")]),this._v(" セッションの削除")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v(":DeleteSession ~/.vim/sessions/test1.vim")]),this._v("という感じで、削除します。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-vimscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('" delete session\ncommand! -nargs=1 DeleteSession call s:deleteSession(<f-args>)\nfunction! s:deleteSession(file)\n    call delete(expand(a:file))\nendfunction\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-vimscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("command! FdeleteSession call fzf#run({\n\\  'source': split(glob(s:session_path . \"/*\"), \"\\n\"),\n\\  'sink':    function('s:deleteSession'),\n\\  'options': '-m -x +s',\n\\  'down':    '40%'})\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"キーマッピング"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#キーマッピング","aria-hidden":"true"}},[this._v("#")]),this._v(" キーマッピング")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-vimscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("nnoremap <Leader>se :SaveSession \nnnoremap <Leader>lse :FloadSession<CR>\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"参考記事"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考記事","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考記事")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"最後に"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最後に","aria-hidden":"true"}},[this._v("#")]),this._v(" 最後に")])}],!1,null,null,null);t.default=i.exports}}]);